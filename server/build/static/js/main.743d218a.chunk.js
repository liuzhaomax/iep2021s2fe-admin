(this["webpackJsonpiep2021s2fe-admin"]=this["webpackJsonpiep2021s2fe-admin"]||[]).push([[0],{154:function(e,t,n){},161:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},240:function(e,t,n){},243:function(e,t,n){},306:function(e,t,n){},309:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"loginReq",(function(){return R})),n.d(i,"logoutReq",(function(){return z})),n.d(i,"getPukReq",(function(){return q})),n.d(i,"setToken",(function(){return K})),n.d(i,"getPageReq",(function(){return G}));var a={};n.r(a),n.d(a,"setBlog",(function(){return Ve})),n.d(a,"getReqBlogList",(function(){return Je})),n.d(a,"getReqBlog",(function(){return We})),n.d(a,"postReqBlog",(function(){return Ye})),n.d(a,"putReqBlog",(function(){return Ze})),n.d(a,"deleteReqBlog",(function(){return Qe}));var o=n(1),c=n.n(o),r=n(33),s=n.n(r),l=(n(209),n(24)),u=n(25),d=n(27),b=n(26),j=(n(210),n(54)),h=n(36),p=n(12),f=n(100),O=(n(84),n(41)),g=n(40),m=(n(161),n.p+"static/media/cover.481f4f73.jpg"),x=(n(75),n(34)),v=(n(162),n(83)),N=n(48),y=(n(111),n(47)),A=n(341),C=n(342),T=n(202),E=n(188),k=n.n(E),M=n(199),_=n(42),U=n.n(_),P=function(e){e?(U.a.defaults.withCredentials=!0,U.a.defaults.headers.common.Authorization=e):(U.a.defaults.withCredentials=!1,delete U.a.defaults.headers.common.Authorization)},w=n(3),L=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).encrypt=function(){var t=new M.a;return t.setPublicKey(sessionStorage.getItem("puk")),{user_email:t.encrypt(e.state.user_email),user_password:t.encrypt(k()(e.state.user_password))}},e.submit=function(t){e.setState({isLoading:!0}),e.props.loginActions.loginReq(e.encrypt()).then((function(t){e.setState({isLoading:!1}),P(t.data),localStorage.setItem("TOKEN",t.data),y.b.success("Login Succeeded."),e.props.history.push("/home")})).catch((function(t){e.setState({isLoading:!1}),y.b.error("Login Failed."),O.a.open({message:"Login Failed",description:"Please check your input email and password.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})})}))},e.onChange=function(t){e.setState(Object(N.a)({},t.target.name,t.target.value))},e.cancelBubble=function(e){e.stopPropagation()},e.state={user_email:"",user_password:"",isLoading:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(w.jsx)("div",{className:"login-box",onClick:this.cancelBubble,children:Object(w.jsxs)("div",{className:"login-box-content",children:[Object(w.jsxs)("div",{id:"login-box-first-line",children:[Object(w.jsx)("h1",{children:"Login"}),Object(w.jsx)("div",{id:"login-logo"})]}),Object(w.jsx)(v.a,{id:"login-user-email",name:"user_email",placeholder:"Please input your email.",value:this.state.user_email,onPressEnter:this.submit,onChange:this.onChange}),Object(w.jsx)(v.a.Password,{id:"login-user-password",name:"user_password",placeholder:"Please input your password.",iconRender:function(e){return e?Object(w.jsx)(C.a,{}):Object(w.jsx)(T.a,{})},value:this.state.user_password,onPressEnter:this.submit,onChange:this.onChange}),Object(w.jsx)(x.a,{id:"btn-login",type:"primary",onClick:this.submit,loading:this.state.isLoading,children:"Login"})]})})}}]),n}(c.a.Component),I=Object(h.g)(L),D=n(44),F=function(e){return U.a.get(e)},H="TOKEN",S="BLOG",B={NAME:"Endangered Plants",PATH:"/endangeredplants",MODULE_1:{NAME:"Plant Hub",PATH:"/planthub",FUNCTION_1:{NAME:"Data Source",PATH:"/datasource"},FUNCTION_2:{NAME:"Function2",PATH:"/f2"},FUNCTION_3:{NAME:"Function3",PATH:"/f3"},FUNCTION_4:{NAME:"Function4",PATH:"/f4"}},MODULE_2:{NAME:"Stat Hub",PATH:"/stathub",FUNCTION_1:{NAME:"Function5",PATH:"/f1"},FUNCTION_2:{NAME:"Function6",PATH:"/f2"},FUNCTION_3:{NAME:"Function7",PATH:"/f3"},FUNCTION_4:{NAME:"Function8",PATH:"/f4"}},MODULE_3:{NAME:"Get Involved",PATH:"/getinvolved",FUNCTION_1:{NAME:"Function9",PATH:"/f1"},FUNCTION_2:{NAME:"Function10",PATH:"/f2"},FUNCTION_3:{NAME:"Function11",PATH:"/f3"},FUNCTION_4:{NAME:"Function12",PATH:"/f4"}},MODULE_4:{NAME:"Blog",PATH:"/blog",FUNCTION_1:{NAME:"Blog List",PATH:"/bloglist"}},MODULE_5:{NAME:"About",PATH:"/about",FUNCTION_1:{NAME:"Function17",PATH:"/f1"},FUNCTION_2:{NAME:"Function18",PATH:"/f2"},FUNCTION_3:{NAME:"Function19",PATH:"/f3"},FUNCTION_4:{NAME:"Function20",PATH:"/f4"}}},R=function(e){return function(t){return function(e){return U.a.post("/login",e,{withCredentials:!0})}(e).then((function(e){return t(K(e.data)),e}))}},z=function(){return function(e){return U.a.delete("/logout").then((function(t){return e(K("")),t}))}},q=function(){return function(e){return U.a.get("/login")}},K=function(e){return{type:H,token:e}},G=function(e){return function(t){return{promise:F(e),dispatch:t}}},V=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated?this.props.history.push("/home"):this.props.loginActions.getPukReq().then((function(e){window.sessionStorage.setItem("puk",e.data.puk)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(w.jsx)("div",{id:"login",className:"login",style:{backgroundImage:"url(".concat(m,")")},children:Object(w.jsx)(I,{loginActions:this.props.loginActions})})}}]),n}(c.a.Component),J=Object(g.b)((function(e){return{auth:e.auth}}),(function(e){return{loginActions:Object(D.bindActionCreators)(i,e)}}))(V),W=(n(112),n(69)),Y=(n(240),n(149),n(31)),Z=n(346),Q=(n(243),W.a.Header),X=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).logout=function(){e.props.loginActions.logoutReq().then((function(e){P(""),localStorage.removeItem("TOKEN"),y.b.success("Logout Succeeded.")})).catch((function(e){y.b.success("Logout Failed."),console.log(e)}))},e.jumpToHome=function(){e.props.history.push("/home")},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(Q,{className:"header",children:[Object(w.jsx)("div",{className:"logo",onClick:this.jumpToHome}),Object(w.jsx)(Y.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:this.props.defaultSelectedKeys,children:Object(w.jsx)(Y.a.Item,{className:"nav",children:B.NAME},"1")}),Object(w.jsx)("div",{className:"profile",children:Object(w.jsx)(Z.a,{className:"profile-icon"})}),Object(w.jsx)("div",{className:"logout",onClick:this.logout,children:"Logout"})]})}}]),n}(c.a.Component),$=Object(h.g)(Object(g.b)(null,(function(e){return{loginActions:Object(D.bindActionCreators)(i,e)}}))(X)),ee=n(347),te=n(348),ne=n(349),ie=n(350),ae=n(351),oe=(n(306),Y.a.SubMenu),ce=W.a.Sider,re=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).jump=function(t){switch(t.key){case"1":e.props.history.push(B.PATH+B.MODULE_1.PATH+B.MODULE_1.FUNCTION_1.PATH);break;case"13":e.props.history.push(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/read/1");break;default:console.log("Invalid Menu.Item key.")}},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(w.jsx)(ce,{width:200,className:"sider",children:Object(w.jsxs)(Y.a,{mode:"inline",defaultSelectedKeys:[],defaultOpenKeys:["sub4"],style:{height:"100%",borderRight:0},children:[Object(w.jsxs)(oe,{icon:Object(w.jsx)(ee.a,{}),title:B.MODULE_1.NAME,children:[Object(w.jsx)(Y.a.Item,{onClick:this.jump,children:B.MODULE_1.FUNCTION_1.NAME},"1"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_1.FUNCTION_2.NAME},"2"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_1.FUNCTION_3.NAME},"3"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_1.FUNCTION_4.NAME},"4")]},"sub1"),Object(w.jsxs)(oe,{icon:Object(w.jsx)(te.a,{}),title:B.MODULE_2.NAME,children:[Object(w.jsx)(Y.a.Item,{children:B.MODULE_2.FUNCTION_1.NAME},"5"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_2.FUNCTION_2.NAME},"6"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_2.FUNCTION_3.NAME},"7"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_2.FUNCTION_4.NAME},"8")]},"sub2"),Object(w.jsxs)(oe,{icon:Object(w.jsx)(ne.a,{}),title:B.MODULE_3.NAME,children:[Object(w.jsx)(Y.a.Item,{children:B.MODULE_3.FUNCTION_1.NAME},"9"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_3.FUNCTION_2.NAME},"10"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_3.FUNCTION_3.NAME},"11"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_3.FUNCTION_4.NAME},"12")]},"sub3"),Object(w.jsx)(oe,{icon:Object(w.jsx)(ie.a,{}),title:B.MODULE_4.NAME,children:Object(w.jsx)(Y.a.Item,{onClick:this.jump,children:B.MODULE_4.FUNCTION_1.NAME},"13")},"sub4"),Object(w.jsxs)(oe,{icon:Object(w.jsx)(ae.a,{}),title:B.MODULE_5.NAME,children:[Object(w.jsx)(Y.a.Item,{children:B.MODULE_5.FUNCTION_1.NAME},"17"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_5.FUNCTION_2.NAME},"18"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_5.FUNCTION_3.NAME},"19"),Object(w.jsx)(Y.a.Item,{children:B.MODULE_5.FUNCTION_4.NAME},"20")]},"sub5")]})})}}]),n}(c.a.Component),se=Object(h.g)(re),le=(n(337),n(88)),ue=(n(309),function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])}),de=W.a.Content,be=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).findNameByPath=function(t,n){var i=[];for(var a in t)if(t.hasOwnProperty(a)){if(t[a]===n)return i.push(t),ue(i);t[a]instanceof Object&&i.push(e.findNameByPath(t[a],n))}return ue(i)},e.getBreadcrumbNameArray=function(t,n){var i=n.split("/").slice(1).map((function(e){return"/"+e})),a=[];if("/home"!==n&&"/home/"!==n){var o=e.findNameByPath(t,i[2]),c=e.findNameByPath(t,i[1]),r=e.findNameByPath(t,i[0]);a.push(r[0].NAME),a.push(c[0].NAME),a.push(o[0].NAME)}return a},e.jumpToHome=function(){e.props.history.push("/home")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.getBreadcrumbNameArray(B,this.props.location.pathname),t=this.props.component;return Object(w.jsxs)(W.a,{style:{padding:"0 24px 24px"},children:[Object(w.jsx)(le.a,{style:{margin:"16px 0"},children:"/home"!==this.props.location.pathname?Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(le.a.Item,{className:"bc-home",onClick:this.jumpToHome,children:"Home"}),Object(w.jsx)(le.a.Item,{children:e[0]}),Object(w.jsx)(le.a.Item,{children:e[1]}),Object(w.jsx)(le.a.Item,{children:e[2]})]}):Object(w.jsx)(le.a.Item,{children:"Home"})}),Object(w.jsx)(de,{className:"content",children:Object(w.jsx)(t,{})})]})}}]),n}(c.a.Component),je=Object(h.g)(be),he=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(W.a,{className:"Layout",children:[Object(w.jsx)($,{defaultSelectedKeys:["1"]}),Object(w.jsxs)(W.a,{style:{height:"93.5vh"},children:[Object(w.jsx)(se,{}),Object(w.jsx)(je,{component:this.props.component})]})]})}}]),n}(c.a.Component),pe=["component"],fe=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||(this.props.history.push("/login"),O.a.open({message:"Need to login",description:"Authentication does not exist or has expired. Please login again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})}))}},{key:"componentDidUpdate",value:function(e,t,n){this.props.auth.isAuthenticated||(this.props.history.push("/login"),O.a.open({message:"Need to login",description:"Authentication does not exist or has expired. Please login again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(f.a)(e,pe);return this.props.auth.isAuthenticated?Object(w.jsx)(h.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return Object(w.jsx)(he,Object(p.a)(Object(p.a)({},e),{},{component:t}))},exact:!0})):Object(w.jsx)(h.b,{path:"/login",component:J,exact:!0})}}]),n}(c.a.Component),Oe=Object(h.g)(Object(g.b)((function(e){return{auth:e.auth}}))(fe)),ge=["component"],me=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=Object(f.a)(e,ge);return this.props.auth.isAuthenticated?Object(w.jsx)(h.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return Object(w.jsx)(t,Object(p.a)({},e))},exact:!0})):Object(w.jsx)(h.b,{path:"/login",component:J,exact:!0})}}]),n}(c.a.Component),xe=Object(g.b)((function(e){return{auth:e.auth}}))(Object(h.g)(me)),ve=n(193),Ne=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onClickGoBack=function(){e.props.history.goBack()},e.state={secondsToGo:5,timer:null,timerOut:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({timer:setInterval((function(){e.setState({secondsToGo:e.state.secondsToGo-1})}),1e3),timerOut:setTimeout((function(){e.props.history.goBack()}),1e3*this.state.secondsToGo)})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timerOut),clearInterval(this.state.timer)}},{key:"render",value:function(){return Object(w.jsxs)("div",{className:"NotFound",children:[Object(w.jsx)("h3",{children:"Your page is not found. Code: 404."}),Object(w.jsx)(ve.a,{}),Object(w.jsxs)("p",{children:["Will jump to the previous page after ",Object(w.jsx)("span",{id:"nf-cound-down",children:this.state.secondsToGo})," second(s)."]}),Object(w.jsx)(x.a,{type:"primary",onClick:this.onClickGoBack,children:"Go Back"})]})}}]),n}(c.a.Component),ye=Object(h.g)(Ne),Ae=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(w.jsx)(c.a.Fragment,{children:this.props.isAuthenticated?Object(w.jsx)(h.a,{to:"/home"}):Object(w.jsx)(h.a,{to:"/login"})})}}]),n}(c.a.Component),Ce=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),null)(Ae),Te=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={data:void 0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.loginActions.getPageReq("/home");t.promise.then((function(t){e.setState({data:t.data})})).catch((function(n){t.dispatch(e.props.loginActions.setToken("")),O.a.open({message:"Need to login",description:"Authentication does not exist or has expired. Please login again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})}),P(""),localStorage.removeItem("TOKEN")}))}},{key:"render",value:function(){return Object(w.jsxs)("div",{className:"Home",children:["I am home, ",this.state.data]})}}]),n}(c.a.Component),Ee=Object(g.b)(null,(function(e){return{loginActions:Object(D.bindActionCreators)(i,e)}}))(Te),ke=(n(338),n(197)),Me=n(345),_e=ke.a.Dragger,Ue={name:"file",multiple:!0,accept:".csv",customRequest:function(){U.a.post(B.PATH+B.MODULE_1.PATH+B.MODULE_1.FUNCTION_1.PATH).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},Pe=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={data:void 0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.loginActions.getPageReq(B.PATH+B.MODULE_1.PATH+B.MODULE_1.FUNCTION_1.PATH);t.promise.then((function(t){e.setState({data:t.data})})).catch((function(n){t.dispatch(e.props.loginActions.setToken("")),O.a.open({message:"Need to login",description:"Authentication does not exist or has expired. Please login again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})}),P(""),localStorage.removeItem("TOKEN")}))}},{key:"render",value:function(){return Object(w.jsx)("div",{className:"DataSource",children:Object(w.jsxs)(_e,Object(p.a)(Object(p.a)({},Ue),{},{children:[Object(w.jsx)("p",{className:"ant-upload-drag-icon",children:Object(w.jsx)(Me.a,{})}),Object(w.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),Object(w.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))})}}]),n}(c.a.Component),we=Object(g.b)(null,(function(e){return{loginActions:Object(D.bindActionCreators)(i,e)}}))(Pe),Le=(n(336),n(145)),Ie=(n(339),n(200)),De=(n(320),n(203)),Fe=(n(154),n(137)),He=n(344),Se=n(343),Be=n.p+"static/media/article.0f64940a.svg",Re=function(e){return U.a.get(e)},ze=function(e){return U.a.get(e)},qe=function(e,t){return U.a.post(e,t)},Ke=function(e,t){return U.a.put(e,t)},Ge=function(e){return U.a.delete(e)},Ve=function(e,t){return{type:S,blogId:e,blogPageNum:t}},Je=function(e){return function(t){return{promise:Re(e),dispatch:t}}},We=function(e){return function(t){return{promise:ze(e),dispatch:t}}},Ye=function(e,t){return function(n){return{promise:qe(e,t),dispatch:n}}},Ze=function(e,t){return function(n){return{promise:Ke(e,t),dispatch:n}}},Qe=function(e){return function(t){return{promise:Ge(e),dispatch:t}}},Xe=(n(322),n(198)),$e=n(8),et=function(e){var t=Object(o.useState)(!1),n=Object($e.a)(t,2),i=n[0],a=n[1],c=Object(o.useState)(!1),r=Object($e.a)(c,2),s=r[0],l=r[1],u=Object(o.useState)(""),d=Object($e.a)(u,2),b=d[0],j=d[1],h=Object(o.useState)(0),p=Object($e.a)(h,2),f=p[0],g=p[1];Object(o.useEffect)((function(){e.onRef(m)}));var m=function(e){g(e.blogId),j(e.blogTitle),a(!0)};return Object(w.jsxs)(Xe.a,{title:"Deleting Blog",visible:i,onOk:function(){j("Deleting ..."),l(!0),e.blogActions.deleteReqBlog(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/delete/"+f).promise.then((function(e){y.b.success("Deleting the blog succeeded."),a(!1),l(!1)})).catch((function(e){y.b.error("Deleting the blog failed."),O.a.open({message:"Deleting Failed",description:"Unexpected deleting issue. Please refresh and delete again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})}),a(!1),l(!1)})),window.location.replace(e.pathname)},confirmLoading:s,onCancel:function(){a(!1)},children:[Object(w.jsx)("p",{children:"Are you sure you want to delete the blog: "}),Object(w.jsxs)("p",{children:['"',Object(w.jsx)("span",{style:{color:"#338e6c",fontWeight:"bold"},children:b}),'"']})]})},tt=n.p+"static/media/example.f0b80b64.jpg",nt=n(49),it={domain:nt.http.domain,beDomain:nt.be.domain,beBaseUrl:"release"===nt.run_mode?"".concat(nt.be.protocol,"://").concat(nt.be.domain):"".concat(nt.be.protocol,"://").concat(nt.be.local_host,":").concat(nt.be.port),feBaseUrl:"release"===nt.run_mode?"".concat(nt.fe.protocol,"://").concat(nt.fe.domain):"".concat(nt.fe.protocol,"://").concat(nt.fe.local_host,":").concat(nt.fe.port)},at=function(e){var t=e.icon,n=e.text;return Object(w.jsxs)(De.b,{children:[c.a.createElement(t),n]})},ot=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getBlogList=function(){var t=e.props.blogActions.getReqBlogList(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/read/1");e.setState({getBlogListReqObj:t}),t.promise.then((function(t){for(var n=[],i=0;i<t.data.length;i++)n.push({blogId:t.data[i].blogId,href:it.feBaseUrl+B.MODULE_4.PATH+"/article/"+t.data[i].blogId,blogTitle:t.data[i].blogTitle,avatar:Be,blogAuthor:"by "+t.data[i].blogAuthor,blogPreview:t.data[i].blogPreview,blogPreviewImg:t.data[i].blogPreviewImg,blogView:t.data[i].blogView,blogCreateTime:t.data[i].blogCreateTime,blogUpdateTime:t.data[i].blogUpdateTime});e.setState({data:n})})).catch((function(n){t.dispatch(e.props.loginActions.setToken("")),O.a.open({message:"Need to login",description:"Authentication does not exist or has expired. Please login again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})}),P(""),localStorage.removeItem("TOKEN")}))},e.onClickCreate=function(){e.props.history.push(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/create")},e.onClickEdit=function(t){e.state.getBlogListReqObj.dispatch(Ve(t.blogId,e.state.pageNum)),e.props.history.push(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/update/"+t.blogId)},e.transformDate=function(e){var t=new Date(e),n=t.getDate(),i=t.getMonth()+1,a=t.getFullYear(),o=t.getHours(),c=t.getMinutes();return"".concat(n,"-").concat(i,"-").concat(a," ").concat(o,":").concat(c)},e.onRef=function(t){e.showModal=t},e.popupDeleteDialog=function(t){e.showModal(t)},e.state={data:void 0,pageNum:1,getBlogListReqObj:void 0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/").slice(-1)[0]?this.props.location.pathname.split("/").slice(-1)[0]:this.props.location.pathname.split("/").slice(-2)[0];this.setState({pageNum:Number(e)}),this.getBlogList()}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"BlogList",id:"BlogList",children:[Object(w.jsx)(x.a,{type:"primary",onClick:this.onClickCreate,children:"Create Article"}),Object(w.jsx)(Le.b,{id:"blog-list",itemLayout:"vertical",size:"large",pagination:{current:this.state.pageNum,onChange:function(t){e.setState({pageNum:t}),e.state.getBlogListReqObj.dispatch(Ve(0,t)),e.props.history.push(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/read/"+t)},pageSize:3},dataSource:this.state.data,footer:Object(w.jsx)("div",{}),renderItem:function(t){return Object(w.jsxs)(Le.b.Item,{className:"blog-list-item",actions:[Object(w.jsx)(at,{icon:Fe.a,text:t.blogView},"list-vertical-view"),Object(w.jsx)(at,{icon:He.a,text:e.transformDate(t.blogCreateTime)},"list-vertical-create"),Object(w.jsx)(at,{icon:Se.a,text:e.transformDate(t.blogUpdateTime)},"list-vertical-update"),Object(w.jsx)("a",{onClick:e.onClickEdit.bind(e,t),children:"edit"},"list-vertical-edit"),Object(w.jsx)("a",{onClick:e.popupDeleteDialog.bind(e,t),children:"delete"},"list-vertical-delete")],extra:Object(w.jsx)("img",{height:170,alt:"blog-preview-img",src:t.blogPreviewImg?t.blogPreviewImg:tt}),children:[Object(w.jsx)(Le.b.Item.Meta,{avatar:Object(w.jsx)(Ie.a,{src:t.avatar}),title:Object(w.jsx)("a",{href:t.href,target:"view_window",children:t.blogTitle}),description:t.blogAuthor}),t.blogPreview]},t.blogTitle)}}),Object(w.jsx)(et,{onRef:this.onRef,blogActions:this.props.blogActions,pathname:this.props.location.pathname})]})}}]),n}(c.a.Component),ct=Object(h.g)(Object(g.b)(null,(function(e){return{loginActions:Object(D.bindActionCreators)(i,e),blogActions:Object(D.bindActionCreators)(a,e)}}))(ot)),rt=n(4),st=n(201),lt=n(57),ut=n(61),dt=["children","format","active"],bt=function(e){var t=e.children,n=e.format,i=e.active,a=Object(f.a)(e,dt);return Object(w.jsx)("button",Object(p.a)(Object(p.a)({className:i?"btnActive":"lol",title:n},a),{},{style:{width:"30px",height:"20px",margin:"0 2px"},children:t}))},jt=n(46),ht=n(143),pt=n(158),ft=n(110),Ot={bold:Object(w.jsx)(jt.f,{size:20}),italic:Object(w.jsx)(jt.i,{size:20}),strikethrough:Object(w.jsx)(jt.p,{size:20}),underline:Object(w.jsx)(jt.m,{size:20}),headingOne:Object(w.jsx)(ht.a,{size:20}),headingTwo:Object(w.jsx)(ht.b,{size:20}),headingThree:Object(w.jsx)(ht.c,{size:20}),blockquote:Object(w.jsx)(jt.l,{size:20}),superscript:Object(w.jsx)(pt.b,{size:15}),subscript:Object(w.jsx)(pt.a,{size:15}),alignLeft:Object(w.jsx)(jt.d,{size:20}),alignCenter:Object(w.jsx)(jt.c,{size:20}),alignRight:Object(w.jsx)(jt.e,{size:20}),orderedList:Object(w.jsx)(jt.k,{size:20}),unorderedList:Object(w.jsx)(jt.j,{size:20}),link:Object(w.jsx)(jt.o,{size:20}),image:Object(w.jsx)(jt.n,{size:20}),video:Object(w.jsx)(jt.q,{size:20}),add:Object(w.jsx)(jt.a,{size:20}),table:Object(w.jsx)(ft.d,{size:20}),row:Object(w.jsx)(ft.b,{size:20}),column:Object(w.jsx)(ft.c,{size:20}),removeTable:Object(w.jsx)(ft.a,{size:20})},gt=function(e){var t=e.icon;return Ot[t]},mt=["alignLeft","alignRight","alignCenter"],xt=["orderedList","unorderedList"],vt={small:"0.75em",normal:"1em",medium:"1.75em",huge:"2.5em"},Nt={sans:"Helvetica,Arial, sans serif",serif:"Georgia, Times New Roaman,serif",monospace:"Monaco, Courier New,monospace"},yt=function(e,t){rt.a.addMark(e,t.format,t.value)},At=function(e,t){var n=rt.a.marks(e);return!!n&&!0===n[t]},Ct=function(e,t){var n=rt.a.nodes(e,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&e.type===t}});return!!Object($e.a)(n,1)[0]},Tt=function(e,t){var n,i=rt.a.marks(e),a={color:"black",bgColor:"black",fontSize:"normal",fontFamily:"sans"}[t];return null!==(n=null===i||void 0===i?void 0:i[t])&&void 0!==n?n:a},Et=function(e){var t=Object(o.useState)(!1),n=Object($e.a)(t,2),i=n[0],a=n[1];return Object(o.useEffect)((function(){if(e.selection){var t=rt.a.nodes(e,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table"===e.type}}),n=Object($e.a)(t,1)[0];a(!!n)}}),[e.selection]),i},kt=[[{id:1,format:"fontFamily",type:"dropdown",options:[{text:"Sans Serif",value:"sans"},{text:"Serif",value:"serif"},{text:"MonoSpace",value:"monospace"}]},{id:2,format:"fontSize",type:"dropdown",options:[{text:"Small",value:"small"},{text:"Normal",value:"normal"},{text:"Medium",value:"medium"},{text:"Huge",value:"huge"}]}],[{id:3,format:"bold",type:"mark"},{id:4,format:"italic",type:"mark"},{id:5,format:"underline",type:"mark"},{id:6,format:"strikethrough",type:"mark"}],[{id:7,format:"color",type:"color-picker"},{id:8,format:"bgColor",type:"color-picker"}],[{id:9,format:"superscript",type:"mark"},{id:10,format:"subscript",type:"mark"}],[{id:11,format:"headingOne",type:"block"},{id:12,format:"headingTwo",type:"block"},{id:13,format:"headingThree",type:"block"}],[{id:15,format:"orderedList",type:"block"},{id:16,format:"unorderedList",type:"block"}],[{id:17,format:"alignLeft",type:"block"},{id:18,format:"alignCenter",type:"block"},{id:19,format:"alignRight",type:"block"}],[{id:21,format:"image",type:"embed"},{id:22,format:"video",type:"embed"},{id:23,type:"table"}],[{id:24,type:"inTable"}]],Mt=(n(329),n(330),["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]);var _t=function(e){var t=Object(o.useState)(!1),n=Object($e.a)(t,2),i=n[0],a=n[1];return Object(o.useEffect)((function(){var t=function(t){var n,i=t.target;(null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.contains(i))||a(!1)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}),[]),[i,a]},Ut={color:Object(w.jsx)(jt.h,{size:20}),bgColor:Object(w.jsx)(jt.g,{size:20})},Pt=function(e){var t=e.format,n=e.editor,i=Object(o.useState)(),a=Object($e.a)(i,2),c=a[0],r=a[1],s=Object(o.useState)(""),l=Object($e.a)(s,2),u=l[0],d=l[1],b=Object(o.useState)(),j=Object($e.a)(b,2),h=j[0],p=j[1],f=Object(o.useRef)(null),O=_t(f),g=Object($e.a)(O,2),m=g[0],x=g[1],v=new RegExp("^#[0-9A-Za-z]{6}"),N=new RegExp("^#[0-9A-Za-z]{3}"),y=function(e){var i=e.target.getAttribute("data-value");c&&rt.i.select(n,c),yt(n,{format:t,value:i}),lt.b.focus(n),rt.i.move(n,{distance:1}),x(!1)};return Object(w.jsxs)("div",{className:"color-picker popup-wrapper",ref:f,children:[Object(w.jsx)("button",{style:{color:m?"black":Tt(n,t),opacity:"1"},className:m?"clicked":"",onClick:function(){r(n.selection),x((function(e){return!e}))},children:Ut[t]}),m&&Object(w.jsxs)("div",{className:"popup",children:[Object(w.jsx)("div",{className:"color-options",children:Mt.map((function(e,t){return Object(w.jsx)("div",{"data-value":e,onClick:y,className:"option",style:{background:e}},t)}))}),Object(w.jsx)("p",{style:{textAlign:"center",opacity:"0.7",width:"100%"},children:"OR"}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h&&(c&&rt.i.select(n,c),yt(n,{format:t,value:u}),x(!1),p(""),d(""))},children:[Object(w.jsx)("div",{className:"hexPreview",style:{background:h?u:"#000000"}}),Object(w.jsx)("input",{type:"text",placeholder:"#000000",value:u,onChange:function(e){e.preventDefault();var t=e.target.value;p(v.test(t)||N.test(t)),d(t)},style:{border:!1===h?"1px solid red":"1px solid lightgray"}}),Object(w.jsx)("button",{style:{color:h?"green":""},type:"submit",children:Object(w.jsx)(jt.b,{size:20})})]})]})]})},wt=function(e){rt.i.unwrapNodes(e,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"link"===e.type}})},Lt=function(e){var t=e.editor;return Object(w.jsx)(bt,{active:Ct(t,"link"),format:"link",onClick:function(){var e=prompt("Enter URL");!function(e,t){if(t){var n=e.selection,i={type:"link",href:t,children:[{text:"Link"}]};if(n){var a=rt.a.parent(e,n.focus.path),o=Object($e.a)(a,2),c=o[0],r=o[1];"link"===c.type&&wt(e),e.isVoid(c)?rt.i.insertNodes(e,{type:"paragraph",children:[i]},{at:rt.e.next(r),select:!0}):rt.g.isCollapsed(n)?rt.i.insertNodes(e,i,{select:!0}):rt.i.wrapNodes(e,i,{split:!0})}else rt.i.insertNodes(e,{type:"paragraph",children:[i]})}}(t,e)},children:Object(w.jsx)(gt,{icon:"link"})})},It=function(e){var t=e.editor,n=e.format,i=Object(o.useRef)(),a=_t(i),c=Object($e.a)(a,2),r=c[0],s=c[1],l=Object(o.useState)({url:"",width:"",height:""}),u=Object($e.a)(l,2),d=u[0],b=u[1];return Object(w.jsxs)("div",{ref:i,className:"popup-wrapper",children:[Object(w.jsx)(bt,{active:Ct(t,n),style:{border:r?"1px solid lightgray":"",borderBottom:"none"},format:n,onClick:function(e){e.preventDefault(),s((function(e){return!e}))},children:Object(w.jsx)(gt,{icon:n})}),r&&Object(w.jsx)("div",{className:"popup",children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){var i=t.url,a=t.width,o=t.height;if(i){t.width=a?"".concat(a,"px"):"100%",t.height=o?"".concat(o,"px"):"auto";var c,r,s="image"===n?{type:"image",alt:"EditorImage",url:(r=t).url,width:r.width,height:r.height,children:[{text:""}]}:{type:"video",url:(c=t).url,width:c.width,height:c.height,children:[{text:""}]};console.log(n),rt.i.insertNodes(e,s,{select:!0}),rt.i.insertNodes(e,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}}(t,Object(p.a)({},d),n),s(!1),b({url:"",width:"",height:""})},children:[Object(w.jsx)("input",{type:"text",placeholder:"Enter url",value:d.url,onChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{url:e.target.value})}))}}),Object(w.jsx)("input",{type:"text",placeholder:"Enter width of frame",value:d.width,onChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{width:e.target.value})}))}}),Object(w.jsx)("input",{type:"text",placeholder:"Enter height of frame",value:d.height,onChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{height:e.target.value})}))}}),Object(w.jsx)(bt,{type:"submit",children:"Save"})]})})]})},Dt=function e(t){var n=this;Object(l.a)(this,e),this.insertTable=function(e,t){var i=rt.a.nodes(n.editor,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table"===e.type},mode:"highest"});if(!Object($e.a)(i,1)[0]&&e&&t){var a=Array.from({length:e},(function(){return Array.from({length:t},(function(){return""}))})),o=Ht(a);rt.i.insertNodes(n.editor,o,{mode:"highest"}),rt.i.insertNodes(n.editor,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}},this.insertCells=function(e,t,i){var a=Array.from(e.children,(function(e){return Array.from(e.children,(function(e){return e.children[0].text}))})),o=a[0].length;"row"===i?a.push(Array(o).fill("")):a=Array.from(a,(function(e){return e.push(""),e}));var c=Ht(a);rt.i.insertNodes(n.editor,c,{at:t})},this.removeTable=function(){rt.i.removeNodes(n.editor,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table"===e.type},mode:"highest"})},this.insertRow=function(){var e=n.editor.selection;if(e&&rt.g.isCollapsed(e)){var t=rt.a.nodes(n.editor,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table"===e.type}}),i=Object($e.a)(t,1)[0];if(i){var a=Object($e.a)(i,2),o=a[0],c=a[1];n.removeTable(),n.insertCells(o,c,"row")}}},this.insertColumn=function(){var e=n.editor.selection;if(e&&rt.g.isCollapsed(e)){var t=rt.a.nodes(n.editor,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table"===e.type}}),i=Object($e.a)(t,1)[0];if(i){var a=Object($e.a)(i,2),o=a[0],c=a[1];n.removeTable(),n.insertCells(o,c,"columns")}}},this.editor=t},Ft=function(e){return{type:"table-cell",children:[{text:e}]}},Ht=function(e){return{type:"table",children:Array.from(e,(function(e){return function(e){return{type:"table-row",children:Array.from(e,(function(e){return Ft(e)}))}}(e)}))}},St=(n(331),function(e){var t=e.editor,n=Object(o.useRef)(),i=Object(o.useState)(),a=Object($e.a)(i,2),c=a[0],r=a[1],s=_t(n),l=Object($e.a)(s,2),u=l[0],d=l[1],b=Object(o.useState)({row:0,column:0}),j=Object($e.a)(b,2),h=j[0],p=j[1],f=Object(o.useState)(Array.from({length:6},(function(){return Array.from({length:6},(function(e,t){return{bg:"lightGray",column:t}}))}))),O=Object($e.a)(f,2),g=O[0],m=O[1];Object(o.useEffect)((function(){var e=Array.from({length:6},(function(e,t){return Array.from({length:6},(function(e,n){return{bg:t+1<=h.row&&n+1<=h.column?"#338e6c":"lightgray",column:n}}))}));m(e)}),[h]);var x=new Dt(t);return Object(w.jsxs)("div",{ref:n,className:"popup-wrapper",children:[Object(w.jsx)("button",{style:{border:u?"1px solid lightgray":"none"},title:"table",onClick:function(){r(t.selection),d((function(e){return!e}))},children:Object(w.jsx)(gt,{icon:"table"})}),u&&Object(w.jsxs)("div",{className:"popup",children:[Object(w.jsx)("div",{className:"table-input",children:g.map((function(e,n){return e.map((function(e){var i=e.column,a=e.bg;return Object(w.jsx)("div",{onClick:function(){return c&&rt.i.select(t,c),p({row:-1,column:-1}),x.insertTable(h.row,h.column),void d(!1)},onMouseOver:function(){return p({row:n+1,column:i+1})},className:"table-unit",style:{border:"1px solid ".concat(a)}},n+"x"+i)}))}))}),h.row>=1&&Object(w.jsx)("div",{children:Object(w.jsx)("i",{children:"".concat(h.row," x ").concat(h.column)})})]})]})}),Bt=function(e){var t=e.editor,n=new Dt(t),i=function(e){switch(e){case"row":n.insertRow();break;case"column":n.insertColumn();break;case"remove":n.removeTable();break;default:return}};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(bt,{format:"insert row",onClick:function(){return i("row")},children:Object(w.jsx)(gt,{icon:"row"})}),Object(w.jsx)(bt,{format:"insert column",onClick:function(){return i("column")},children:Object(w.jsx)(gt,{icon:"column"})}),Object(w.jsx)(bt,{format:"remove table",onClick:function(){return i("remove")},children:Object(w.jsx)(gt,{icon:"removeTable"})})]})},Rt=function(){var e=Object(lt.f)(),t=Et(e),n=Object(o.useState)(kt),i=Object($e.a)(n,2),a=i[0],c=i[1];Object(o.useEffect)((function(){var e=Object(ut.a)(kt);t&&(e=(e=a.map((function(e){return e.filter((function(e){return"block"!==e.type}))}))).filter((function(e){return e.length}))),c(e)}),[t]);var r=function(t){var n=t.format;return Object(w.jsx)(bt,{active:Ct(e,n),format:n,onMouseDown:function(t){t.preventDefault(),function(e,t){var n=Ct(e,t),i=xt.includes(t),a=mt.includes(t);mt.some((function(t){return Ct(e,t)}))&&a&&rt.i.unwrapNodes(e,{match:function(e){return mt.includes(!rt.a.isEditor(e)&&rt.b.isElement(e)&&e.type)},split:!0}),a?rt.i.wrapNodes(e,{type:t,children:[]}):(rt.i.unwrapNodes(e,{match:function(e){return xt.includes(!rt.a.isEditor(e)&&rt.b.isElement(e)&&e.type)},split:!0}),rt.i.setNodes(e,{type:n?"paragraph":i?"list-item":t}),i&&!n&&rt.i.wrapNodes(e,{type:t,children:[]}))}(e,n)},children:Object(w.jsx)(gt,{icon:n})})},s=function(t){var n=t.format;return Object(w.jsx)(bt,{active:At(e,n),format:n,onMouseDown:function(t){t.preventDefault(),function(e,t){At(e,t)?rt.a.removeMark(e,t):rt.a.addMark(e,t,!0),lt.b.focus(e)}(e,n)},children:Object(w.jsx)(gt,{icon:n})})},l=function(t){var n=t.format,i=t.options;return Object(w.jsx)("select",{className:"toolbar-select",value:Tt(e,n),onChange:function(e){return u(e,n)},children:i.map((function(e,t){return Object(w.jsx)("option",{value:e.value,children:e.text},t)}))})},u=function(t,n){t.preventDefault();var i=t.target.value;yt(e,{format:n,value:i})};return Object(w.jsx)("div",{className:"toolbar",children:a.map((function(n,i){return Object(w.jsx)("span",{className:"toolbar-grp",children:n.map((function(n){switch(n.type){case"block":return Object(w.jsx)(r,Object(p.a)({},n),n.id);case"mark":return Object(w.jsx)(s,Object(p.a)({},n),n.id);case"dropdown":return Object(w.jsx)(l,Object(p.a)({},n),n.id);case"link":return Object(w.jsx)(Lt,{active:Ct(e,"link"),editor:e},n.id);case"embed":return Object(w.jsx)(It,{format:n.format,editor:e},n.id);case"color-picker":return Object(w.jsx)(Pt,{activeMark:Tt,format:n.format,editor:e},n.id);case"table":return Object(w.jsx)(St,{editor:e},n.id);case"inTable":return t?Object(w.jsx)(Bt,{editor:e},n.id):null;default:return Object(w.jsx)("button",{children:"Invalid Button"})}}))},i)}))})},zt=function(e){var t=e.isInline;return e.isInline=function(e){return"link"===e.type||t(e)},e},qt=function(e){var t=e.deleteBackward,n=e.deleteForward,i=e.insertBreak;return e.deleteBackward=function(n){var i=e.selection;if(i){var a=rt.a.nodes(e,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table-cell"===e.type}}),o=Object($e.a)(a,1)[0],c=rt.a.before(e,i),r=rt.a.nodes(e,{at:c,match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement&&"table-cell"===e.type}}),s=Object($e.a)(r,1)[0];if(o){var l=Object($e.a)(o,2)[1],u=rt.a.start(e,l);if(rt.f.equals(i.anchor,u))return}if(!o&&s)return}t(n)},e.deleteForward=function(t){var i=e.selection;if(i&&rt.g.isCollapsed(i)){var a=rt.a.nodes(e,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table-cell"===e.type}}),o=Object($e.a)(a,1)[0],c=rt.a.after(e,i),r=rt.a.nodes(e,{at:c,match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement&&"table-cell"===e.type}}),s=Object($e.a)(r,1)[0];if(o){var l=Object($e.a)(o,2)[1],u=rt.a.end(e,l);if(rt.f.equals(i.anchor,u))return}if(!o&&s)return}n(t)},e.insertBreak=function(){if(e.selection){var t=rt.a.nodes(e,{match:function(e){return!rt.a.isEditor(e)&&rt.b.isElement(e)&&"table"===e.type}});if(Object($e.a)(t,1)[0])return}i()},e},Kt=function(e){var t=e.isVoid;return e.isVoid=function(e){return!!["video","image"].includes(e.type)||t(e)},e},Gt=(n(332),n(333),function(e){var t=e.attributes,n=e.element,i=e.children,a=n.url,o=n.width,c=n.height,r=Object(lt.e)(),s=Object(lt.d)();return console.log(o,c),Object(w.jsxs)("div",Object(p.a)(Object(p.a)({},t),{},{className:"element-image",style:{display:"flex",justifyContent:"center",boxShadow:r&&s&&"0 0 3px 3px lightgray"},children:[Object(w.jsx)("div",{contentEditable:!1,style:{width:o,height:c},children:Object(w.jsx)("img",{alt:n.alt,src:a})}),i]}))}),Vt=(n(334),function(e){var t=e.attributes,n=e.element,i=e.children,a=n.url,o=n.width,c=n.height;return Object(w.jsxs)("div",Object(p.a)(Object(p.a)({},t),{},{className:"element-video",style:{display:"flex",justifyContent:"center"},children:[Object(w.jsx)("div",{contentEditable:!1,style:{width:o,height:c},children:Object(w.jsx)("div",{className:"video-wrapper",children:Object(w.jsx)("iframe",{src:a,frameBorder:"0",title:a})})}),i]}))}),Jt=function(e){var t=e.attributes,n=e.children;switch(e.element.type){case"headingOne":return Object(w.jsx)("h1",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"headingTwo":return Object(w.jsx)("h2",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"headingThree":return Object(w.jsx)("h3",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"alignLeft":return Object(w.jsx)("div",Object(p.a)(Object(p.a)({style:{textAlign:"left",listStylePosition:"inside"}},t),{},{children:n}));case"alignCenter":return Object(w.jsx)("div",Object(p.a)(Object(p.a)({style:{textAlign:"center",listStylePosition:"inside"}},t),{},{children:n}));case"alignRight":return Object(w.jsx)("div",Object(p.a)(Object(p.a)({style:{textAlign:"right",listStylePosition:"inside"}},t),{},{children:n}));case"list-item":return Object(w.jsx)("li",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"orderedList":return Object(w.jsx)("ol",Object(p.a)(Object(p.a)({type:"1"},t),{},{children:n}));case"unorderedList":return Object(w.jsx)("ul",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"table":return Object(w.jsx)("table",{children:Object(w.jsx)("tbody",Object(p.a)(Object(p.a)({},t),{},{children:n}))});case"table-row":return Object(w.jsx)("tr",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"table-cell":return Object(w.jsx)("td",Object(p.a)(Object(p.a)({},t),{},{children:n}));case"image":return Object(w.jsx)(Gt,Object(p.a)({},e));case"video":return Object(w.jsx)(Vt,Object(p.a)({},e));default:return Object(w.jsx)("p",Object(p.a)(Object(p.a)({},t),{},{children:n}))}},Wt=function(e){var t=e.attributes,n=e.children,i=e.leaf;if(i.bold&&(n=Object(w.jsx)("strong",{children:n})),i.code&&(n=Object(w.jsx)("code",{children:n})),i.italic&&(n=Object(w.jsx)("em",{children:n})),i.strikethrough&&(n=Object(w.jsx)("span",{style:{textDecoration:"line-through"},children:n})),i.underline&&(n=Object(w.jsx)("u",{children:n})),i.superscript&&(n=Object(w.jsx)("sup",{children:n})),i.subscript&&(n=Object(w.jsx)("sub",{children:n})),i.color&&(n=Object(w.jsx)("span",{style:{color:i.color},children:n})),i.bgColor&&(n=Object(w.jsx)("span",{style:{backgroundColor:i.bgColor},children:n})),i.fontSize){var a=vt[i.fontSize];n=Object(w.jsx)("span",{style:{fontSize:a},children:n})}if(i.fontFamily){var o=Nt[i.fontFamily];n=Object(w.jsx)("span",{style:{fontFamily:o},children:n})}return Object(w.jsx)("span",Object(p.a)(Object(p.a)({},t),{},{children:n}))},Yt=function(e){var t=Object(o.useMemo)((function(){return Object(st.a)(Kt(qt(zt(Object(lt.g)(Object(rt.j)())))))}),[]),n=Object(o.useState)([{type:"paragraph",children:[{text:""}]}]),i=Object($e.a)(n,2),a=i[0],c=i[1];Object(o.useEffect)((function(){c(e.content)}),[e.content]);var r=Object(o.useCallback)((function(e){return Object(w.jsx)(Jt,Object(p.a)({},e))}),[]),s=Object(o.useCallback)((function(e){return Object(w.jsx)(Wt,Object(p.a)({},e))}),[]);return Object(w.jsxs)(lt.c,{editor:t,value:a,onChange:function(t){c(t),e.getContent(t)},children:[Object(w.jsx)(Rt,{}),Object(w.jsx)("div",{className:"editor-wrapper",style:{border:"1px solid #f3f3f3",padding:"10px 10px",maxHeight:"700px",overflowY:"auto"},children:Object(w.jsx)(lt.a,{placeholder:"Please type the content.",renderElement:r,renderLeaf:s})})]})},Zt=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getBlog=function(){var t=e.props.location.pathname.split("/").slice(-1)[0]?e.props.location.pathname.split("/").slice(-1)[0]:e.props.location.pathname.split("/").slice(-2)[0];e.props.blogActions.getReqBlog(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/update/"+t).promise.then((function(t){e.setState({data:{blogId:t.data.blogId,blogTitle:t.data.blogTitle,blogAuthor:t.data.blogAuthor,blogReference:t.data.blogReference,blogLink:t.data.blogLink,blogContent:JSON.parse(t.data.blogContent)}})})).catch((function(e){y.b.error("Loading the blog failed."),O.a.open({message:"Loading Failed",description:"Unexpected loading issue. Please refresh and load again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})})}))},e.prepareData=function(t){for(var n,i,a=e.state.data,o=!1,c=0;c<a.blogContent.length;c++)"paragraph"!==a.blogContent[c].type||o?"image"===a.blogContent[c].type&&(i=a.blogContent[c].url,o=!0):(n=a.blogContent[c].children[0].text,o=!0);var r=n.split("\n").join(" ");return r=r.split(" ").slice(0,t).join(" "),a.blogPreview=r,a.blogPreviewImg=i,a.blogContent=JSON.stringify(a.blogContent),a},e.isEmpty=function(t){return t.blogTitle?t.blogAuthor?t.blogReference?t.blogLink?!t.blogContent&&(e.savingFailedMsg("content"),!0):(e.savingFailedMsg("original link"),!0):(e.savingFailedMsg("reference"),!0):(e.savingFailedMsg("author"),!0):(e.savingFailedMsg("title"),!0)},e.savingFailedMsg=function(e){y.b.error("Saving the blog failed."),O.a.open({message:"Saving Failed",description:"The blog "+e+" should not be empty.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})})},e.onClickSave=function(){var t=e.props.location.pathname.split("/").slice(-1)[0]?e.props.location.pathname.split("/").slice(-1)[0]:e.props.location.pathname.split("/").slice(-2)[0],n=e.prepareData(50);if(!e.isEmpty(n)){if("create"!==e.props.location.pathname.split("/").slice(-1)[0])e.props.blogActions.putReqBlog(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/update/"+t,n).promise.then((function(e){y.b.success("Updating the blog succeeded.")})).catch((function(e){y.b.error("Updating the blog failed."),O.a.open({message:"Updating Failed",description:"Unexpected updating issue. Please refresh and save again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})})}));else e.props.blogActions.postReqBlog(B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/create",n).promise.then((function(e){y.b.success("Creating the blog succeeded.")})).catch((function(e){y.b.error("Creating the blog failed."),O.a.open({message:"Creating Failed",description:"Unexpected creating issue. Please refresh and save again.",icon:Object(w.jsx)(A.a,{style:{color:"#ff4d4f"}})})}));e.props.history.goBack()}},e.onClickCancel=function(){e.props.history.goBack()},e.onChange=function(t,n){var i=e.state.data;i[n]=t.target.value,e.setState({data:i})},e.getContent=function(t){var n=e.state.data;n.blogContent=t,e.setState({data:n})},e.state={data:{blogId:void 0,blogTitle:void 0,blogAuthor:void 0,blogReference:void 0,blogLink:void 0,blogPreview:"",blogContent:[{type:"paragraph",children:[{text:""}]}]}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){"create"!==this.props.location.pathname.split("/").slice(-1)[0]&&"create"!==this.props.location.pathname.split("/").slice(-2)[0]&&this.getBlog()}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"UpdateArticle",id:"UpdateArticle",children:[Object(w.jsx)("h3",{children:"Title"}),Object(w.jsx)(v.a,{placeholder:"Please type the title of the article.",className:"blog-update-input",value:this.state.data.blogTitle,onChange:function(t){return e.onChange(t,"blogTitle")}}),Object(w.jsx)("h3",{children:"Author"}),Object(w.jsx)(v.a,{placeholder:"Please type the author(s) of the article.",className:"blog-update-input",value:this.state.data.blogAuthor,onChange:function(t){return e.onChange(t,"blogAuthor")}}),Object(w.jsx)("h3",{children:"Reference"}),Object(w.jsx)(v.a,{placeholder:"Please type the reference(s) of the article.",className:"blog-update-input",value:this.state.data.blogReference,onChange:function(t){return e.onChange(t,"blogReference")}}),Object(w.jsx)("h3",{children:"Original Link"}),Object(w.jsx)(v.a,{placeholder:"Please type the original link of the article.",className:"blog-update-input",value:this.state.data.blogLink,onChange:function(t){return e.onChange(t,"blogLink")}}),Object(w.jsx)("h3",{children:"Content"}),Object(w.jsx)("div",{className:"blog-update-editor",children:Object(w.jsx)(Yt,{content:this.state.data.blogContent,getContent:this.getContent})}),Object(w.jsxs)("div",{className:"blog-update-btn-container",children:[Object(w.jsx)(x.a,{className:"blog-update-btn",id:"blog-update-btn-save",onClick:this.onClickSave,type:"primary",children:"Save"}),Object(w.jsx)(x.a,{className:"blog-update-btn",id:"blog-update-btn-cancel",onClick:this.onClickCancel,children:"Cancel"})]})]})}}]),n}(c.a.Component),Qt=Object(h.g)(Object(g.b)((function(e){return{blog:e.blog}}),(function(e){return{blogActions:Object(D.bindActionCreators)(a,e)}}))(Zt)),Xt=Object(w.jsxs)(h.d,{children:[Object(w.jsx)(h.b,{path:"/",component:Ce,exact:!0}),Object(w.jsx)(h.b,{path:"/login",component:J,exact:!0}),Object(w.jsx)(Oe,{path:"/home",component:Ee,exact:!0}),Object(w.jsx)(Oe,{path:B.PATH+B.MODULE_1.PATH+B.MODULE_1.FUNCTION_1.PATH,component:we,exact:!0}),Object(w.jsx)(Oe,{path:B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/read/:pagenum",component:ct,exact:!0}),Object(w.jsx)(Oe,{path:B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/create",component:Qt,exact:!0}),Object(w.jsx)(Oe,{path:B.PATH+B.MODULE_4.PATH+B.MODULE_4.FUNCTION_1.PATH+"/update/:id",component:Qt,exact:!0}),Object(w.jsx)(xe,{component:ye})]}),$t=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=localStorage.getItem("TOKEN");return e&&(P(e),this.props.store.dispatch(K(e))),Object(w.jsx)("div",{className:"app",children:Object(w.jsx)(j.a,{children:Xt})})}}]),n}(c.a.Component),en=n(194),tn=n(195),nn=n(196),an=n.n(nn),on={isAuthenticated:!1,token:""},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{isAuthenticated:!an()(t.token),token:t.token};default:return e}},rn={blogPageNum:1,blogId:0},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{blogPageNum:t.blogPageNum,blogId:t.blogId};default:return e}},ln=Object(D.combineReducers)({auth:cn,blog:sn});if("release"===nt.run_mode){var un=document.getElementsByTagName("head")[0],dn=document.createElement("meta");dn.setAttribute("http-equiv","Content-Security-Policy"),dn.setAttribute("content","upgrade-insecure-requests"),un.appendChild(dn)}var bn=Object(D.createStore)(ln,Object(tn.composeWithDevTools)(Object(D.applyMiddleware)(en.a)));U.a.defaults.baseURL=it.beBaseUrl,s.a.render(Object(w.jsx)(g.a,{store:bn,children:Object(w.jsx)($t,{store:bn})}),document.getElementById("root"))},49:function(e){e.exports=JSON.parse('{"run_mode":"release","http":{"protocol":"http","domain":"admin.endangeredplantsau.ga","remote_host":"34.129.56.20","local_host":"192.168.0.118","port":"3030"},"fe":{"protocol":"http","domain":"www.endangeredplantsau.ga","remote_host":"34.129.56.20","local_host":"192.168.0.118","port":"81"},"be":{"protocol":"http","domain":"be.admin.endangeredplantsau.ga","remote_host":"34.129.56.20","local_host":"192.168.0.118","port":"8080"}}')}},[[335,1,2]]]);